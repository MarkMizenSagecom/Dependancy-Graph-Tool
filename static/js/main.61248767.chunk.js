(this["webpackJsonpdependancy-graph"]=this["webpackJsonpdependancy-graph"]||[]).push([[3],{307:function(e,t,n){},308:function(e,t,n){},472:function(e,t,n){"use strict";n.r(t);var c,o=n(1),i=n.n(o),a=n(43),r=n.n(a),l=(n(307),n(8)),s=(n(308),n(155)),d=n(16),u=n(119),j=n(9),b=n(284),f=n.n(b),O=n(29),m=n.n(O),p=n(14),h=n(54),v=["hFgfQcppuQXWOjHC72Cs7XK0uQ52","6ml6AfPeOjSEVWnFidImp8Bppnd2","3PFfEGHNeZYk89POk991YEQKJXj2"],x=Object(h.b)({name:"user",initialState:{noSignIn:!0,userDetails:{uid:null,email:null,photoURL:null,displayName:null},signedIn:!1,writeAccess:!1,commentAccess:!1},reducers:{logOut:function(){return{noSignIn:!1,userDetails:{uid:null,email:null,photoURL:null,displayName:null},signedIn:!1,writeAccess:!1,commentAccess:!1}},setNoSignIn:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{noSignIn:t.payload})},setUser:function(e,t){t.payload?(e.userDetails={uid:t.payload.uid,email:t.payload.email,photoURL:t.payload.photoURL,displayName:t.payload.displayName},e.noSignIn=!1,e.signedIn=!0,e.writeAccess=v.includes(t.payload.uid),e.commentAccess=!!e.writeAccess||t.payload.email.includes("@sage.com")):(e.noSignIn=!1,e.userDetails={uid:null,email:null,photoURL:null},e.signedIn=!1,e.writeAccess=!1)}}}),g=x.actions,y=g.setUser,w=g.logOut,k=g.setNoSignIn,C=function(e){var t;return null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.userDetails},S=function(e){var t;return null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.signedIn},E=function(e){var t;return null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.writeAccess},I=function(e){var t;return!(null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.writeAccess)},A=function(e){var t;return null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.commentAccess},D=function(e){var t;return null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.noSignIn},L=x.reducer,M=n(4),R=n(158),z=n.n(R),U=n(159),W=n.n(U),F=n(15),T=n.n(F),P=n(3),N=M.default.div(c||(c=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: 2rem auto;\n  width: 600px;\n  max-width: 100%;\n  font-size: 16px;\n"])));var B=function(e){var t=e.children,n=Object(j.c)(S),c=Object(j.c)(D),o=Object(j.b)();if(console.log({noSignIn:c}),c||n)return Object(P.jsx)(P.Fragment,{children:t});var i={signInFlow:"popup",signInOptions:[u.a.auth.GoogleAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(e){var t=e.user,n={uid:t.uid,email:t.email,photoURL:t.photoURL,displayName:t.displayName};return o({type:y.type,payload:n}),!1}}};return Object(P.jsx)(N,{children:Object(P.jsx)(z.a,{children:Object(P.jsxs)(W.a,{align:"center",children:[Object(P.jsx)(m.a,{mb:4,variant:"h1-large",children:"Dependancy Graph"}),Object(P.jsx)("p",{children:"Please sign in using SSO"}),Object(P.jsx)(f.a,{uiConfig:i,firebaseAuth:u.a.auth()}),Object(P.jsx)("p",{children:"Or"}),Object(P.jsx)(T.a,{variant:"secondary",onClick:function(){o({type:k,payload:!0})},children:"Continue without signing in"})]})})})},V=n(17),X=n(72),Y=n(294),q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"item";return"".concat(e,"-").concat(Math.random().toString().substr(2,8)).concat(Math.random().toString().substr(2,8))},Z=Object(h.b)({name:"dependancies",initialState:{saving:!1,shouldLoad:!0,items:{},connections:[],columns:{}},reducers:{addItem:function(e,t){for(var n=t.payload.column,c=q();e.items[c];)c=q();return e.items[c]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(p.a)({title:"Name",description:"",status:"unknown"},e)}(),e.columns[n].items.unshift(c),e},removeItem:function(e,t){var n=t.payload.id;delete e.items[n];var c=Object.keys(e.columns).find((function(t){var c,o;return(null===(c=e.columns[t])||void 0===c||null===(o=c.items)||void 0===o?void 0:o.findIndex((function(e){return e===n})))>-1}));return c&&(e.columns[c].items=e.columns[c].items.filter((function(e){return e!==n}))),e.connections=e.connections.filter((function(e){var t=e.from,c=e.to;return t!==n&&c!==n})),e},updateItem:function(e,t){var n=t.payload,c=n.id,o=n.update;e.items[c]=Object(p.a)(Object(p.a)({},e.items[c]),o)},moveItem:function(e,t){var n=t.payload,c=n.id,o=n.newPos,i=n.from,a=n.to,r=e.columns[i].items.findIndex(c);return e.columns[i].items.splice(r,1),e.columns[a].items.splice(o,0,c),e},addColumn:function(e){var t=q("column-");e.columns[t]={title:"Column title",items:[]}},removeColumn:function(e,t){var n=t.payload.id;delete e.columns[n]},updateColumn:function(e,t){var n=t.payload,c=n.id,o=Object(Y.a)(n,["id"]);return Object(p.a)(Object(p.a)({},e),{},{columns:Object(p.a)(Object(p.a)({},e.columns),{},Object(X.a)({},c,Object(p.a)(Object(p.a)({},e.columns[c]),o)))})},addConnection:function(e,t){var n=t.payload,c=n.to,o=n.from,i=e.connections.findIndex((function(e){return e.to===c&&e.from===o}));i>-1?e.connections.splice(i,1):e.connections.push({to:c,from:o})},removeConnection:function(e,t){var n=t.payload,c=n.to,o=n.from;e.connections=e.connections.filter((function(e){return e.to===c&&e.from===o}))},updateAll:function(e,t){var n=t.payload,c=n.items,o=n.columns,i=n.connections;e.items=c,e.columns=o,e.connections=i,e.shouldLoad=!1},save:function(e){e.saving=!0},saved:function(e){e.saving=!1}}}),_=Z.actions,H=_.addItem,Q=_.removeItem,G=_.updateItem,J=(_.moveItem,_.addColumn),K=_.updateColumn,$=_.addConnection,ee=_.updateAll,te=_.save,ne=_.saved,ce=function(e){var t;return null===e||void 0===e||null===(t=e.dependancies)||void 0===t?void 0:t.items},oe=function(e){var t;return null===e||void 0===e||null===(t=e.dependancies)||void 0===t?void 0:t.columns},ie=function(e){var t;return null===e||void 0===e||null===(t=e.dependancies)||void 0===t?void 0:t.connections},ae=function(e){var t;return null===e||void 0===e||null===(t=e.dependancies)||void 0===t?void 0:t.shouldLoad},re=function(e){var t;return null===e||void 0===e||null===(t=e.dependancies)||void 0===t?void 0:t.saving},le=function(e){var t;return null===e||void 0===e||null===(t=e.dependancies)||void 0===t?void 0:t.saving},se=Z.reducer,de=n(82);var ue=function(){var e=Object(j.c)(ae),t=Object(j.c)(E),n=Object(j.c)(re),c=Object(j.c)(ce),i=Object(j.c)(ie),a=Object(j.c)(oe),r=Object(j.b)(),l=Object(de.b)();return Object(o.useEffect)((function(){e&&Promise.all([l.collection("items").get(),l.collection("columns").get(),l.collection("connections").get()]).then((function(e){var t=Object(V.a)(e,3),n=t[0],c=t[1],o=t[2],i={};n.docs.forEach((function(e){i[e.id]=e.data()}));var a={};c.docs.forEach((function(e){a[e.id]=e.data()}));var l=o.docs.map((function(e){var t=e.data();return{to:t.to,from:t.from}}));r({type:ee.type,payload:{items:i,columns:a,connections:l}})}))}),[e,l,r]),Object(o.useEffect)((function(){if(n)return t?void Promise.all([l.collection("items").get(),l.collection("columns").get(),l.collection("connections").get()]).then((function(e){var t=Object(V.a)(e,3),n=t[0],o=t[1],r=t[2],s=l.batch();return n.docs.forEach((function(e){if(!c[e.id]){var t=l.collection("items").doc(e.id);s.delete(t)}})),o.docs.forEach((function(e){if(!a[e.id]){var t=l.collection("columns").doc(e.id);s.delete(t)}})),r.docs.forEach((function(e){var t=l.collection("connections").doc(e.id);s.delete(t)})),Object.keys(c).forEach((function(e){var t=l.collection("items").doc(e);-1===n.docs.indexOf((function(t){return t.id===e}))?s.set(t,c[e]):s.update(t,c[e])})),Object.keys(a).forEach((function(e){var t=l.collection("columns").doc(e);-1===o.docs.indexOf((function(t){return t.id===e}))?s.set(t,a[e]):s.update(t,a[e])})),i.forEach((function(e,t){var n=l.collection("connections").doc(String(t));s.set(n,e)})),s.commit()})).then((function(){console.log("batch executed")})).catch((function(e){console.log("batch failed",e)})).finally((function(){r({type:ne.type})})):(console.warn("User doesn't have write access"),void r({type:ne.type}))}),[r,n,t,c,i,a,l]),null},je=Object(o.createContext)();function be(e){var t=e.children,n=Object(d.g)().itemId,c=Object(j.c)(ie),i=Object(j.c)(oe),a=Object(o.useState)(100),r=Object(V.a)(a,2),l=r[0],s=r[1],u=Object(o.useCallback)((function(e){isNaN(e)||s(Math.max(Math.min(e,200),30))}),[s]),b=[{rel:"root",id:n}];c.forEach((function(e){e.from===n&&b.push({rel:"descendant",id:e.to}),e.to===n&&b.push({rel:"ancesstor",id:e.from})}));var f=Object.keys(i),O=[],m=0;f.forEach((function(e,t){var n=0;i[e].items.forEach((function(c){var o=b.findIndex((function(e){return e.id===c}));o<0||(b[o].row=t,b[o].rowCount=n++,b[o].col=i[e].title)})),O[t]=n,m=Math.max(n,m)}));var p=b.map((function(e){return{id:e.id,rel:e.rel,col:e.col,descendants:c.filter((function(t){return t.from===e.id})).length,ancesstors:c.filter((function(t){return t.to===e.id})).length,position:{x:1e3+400*(O[e.row]/2-e.rowCount),y:180*e.row}}})),h=p.findIndex((function(e){return e.id===n}));return Object(P.jsx)(je.Provider,{value:{nodes:p,maxColumns:m,active:h,zoom:l,setZoom:u},children:t})}var fe=function(){var e=Object(o.useState)({width:window.innerWidth,height:window.innerHeight}),t=Object(V.a)(e,2),n=t[0],c=t[1];return Object(o.useEffect)((function(){var e=function(){c({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n};function Oe(e,t){var n=t.type,c=t.payload;switch(n){case"RESET":return{scale:1,transform:{x:0,y:0},start:{x:0,y:0},prev:{x:0,y:0},mouseDown:!1};case"SCALE":return Object(p.a)(Object(p.a)({},e),{},{scale:c.scale,transform:{x:0,y:0},prev:{x:0,y:0}});case"MOUSE_DOWN":return Object(p.a)(Object(p.a)({},e),{},{start:{x:c.x,y:c.y},mouseDown:!0});case"MOUSE_UP":return Object(p.a)(Object(p.a)({},e),{},{mouseDown:!1,prev:Object(p.a)({},e.transform)});case"MOVE":if(!e.mouseDown)return e;var o=e.start,i=e.prev;return Object(p.a)(Object(p.a)({},e),{},{transform:{x:i.x-(o.x-c.x),y:i.y-(o.y-c.y)}});default:return e}}var me,pe=function(e){var t=e.children,n=Object(d.g)().itemId,c=Object(o.useReducer)(Oe,{scale:1,transform:{x:0,y:0},start:{x:0,y:0},prev:{x:0,y:0},mouseDown:!1}),i=Object(V.a)(c,2),a=i[0],r=i[1],l=Object(o.useContext)(je),s=l.nodes,u=l.active,j=l.zoom;Object(o.useEffect)((function(){requestAnimationFrame((function(){r({type:"RESET"})}))}),[n,r]),Object(o.useEffect)((function(){requestAnimationFrame((function(){r({type:"SCALE",payload:{scale:j/100}})}))}),[j,r]);var b=fe(),f=Object(o.useMemo)((function(){var e=b.width/2-s[u].position.x*a.scale-160-150,t=b.height/2-(s[u].position.y-40)*a.scale;return"translate(".concat(e," ").concat(t,")")}),[b,s,u,a.scale]);return Object(o.useEffect)((function(){var e=function(){r({type:"MOUSE_UP"})};return document.addEventListener("mouseleave",e),function(){document.removeEventListener("mouseleave",e)}}),[r]),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("rect",{fill:"transparent",width:"2000",height:"2000",onMouseDown:function(e){r({type:"MOUSE_DOWN",payload:{x:e.clientX,y:e.clientY}})},onMouseMove:function(e){r({type:"MOVE",payload:{x:e.clientX,y:e.clientY}})},onMouseUp:function(e){r({type:"MOUSE_UP"})}}),Object(P.jsx)("g",{transform:f,style:{userSelect:"none"},children:Object(P.jsx)("g",{transform:"translate(".concat(a.transform.x," ").concat(a.transform.y,") scale(").concat(a.scale,")"),children:t})})]})},he=M.default.div(me||(me=Object(l.a)(["\n  position: absolute;\n  right: 1rem;\n  bottom: 1rem;\n"])));var ve,xe,ge,ye,we=function(){var e=Object(o.useContext)(je);return Object(P.jsxs)(he,{children:[Object(P.jsxs)(m.a,{mb:1,fontWeight:"600",children:["Zoom: ",e.zoom,"%"]}),Object(P.jsx)(T.a,{size:"small",onClick:function(){return e.setZoom(e.zoom+20)},iconType:"plus",children:"Zoom In"}),Object(P.jsx)(T.a,{size:"small",onClick:function(){return e.setZoom(e.zoom-20)},iconType:"minus",children:"Zoom Out"})]})},ke={unknown:{color:"grey",text:"Unknown",description:null},stable:{color:"green",text:"Stable",description:null},underReview:{color:"orange",text:"Under Review",description:null},unstable:{color:"darkorange",text:"Unstable",description:null},outdated:{color:"red",text:"Outdated ",description:null},deprecated:{color:"darkslategray",text:"Deprecated",description:null}},Ce=Object(h.b)({name:"options",initialState:{showOtherRelations:!1,showAllArrows:!0},reducers:{setOption:function(e,t){var n=t.payload,c=n.key,o=n.value;e[c]=o},toggleOption:function(e,t){t.payload&&(e[t.payload]=!e[t.payload])}}}),Se=Ce.actions,Ee=Se.setOption,Ie=(Se.toggleOption,function(e){var t;return null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.showOtherRelations}),Ae=function(e){var t;return null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.showAllArrows},De=Ce.reducer,Le=M.default.text(ve||(ve=Object(l.a)(["\n  font: normal 18px sans-serif;\n  pointer-events: none;\n"]))),Me=M.default.text(xe||(xe=Object(l.a)(["\n  font: normal 14px sans-serif;\n  pointer-events: none;\n"]))),Re=M.default.rect(ge||(ge=Object(l.a)(["\n  fill: #fff;\n  stroke: #8099a4;\n  stroke-width: 1;\n  filter: \n    drop-shadow(0 3px 3px rgba(0,20,29,0.2)) \n    drop-shadow(0 2px 4px rgba(0,20,29,0.15));\n  ","}\n"])),(function(e){return e.root?"\n      stroke-width: 2;\n      fill: rgb(242, 245, 246);\n      ":"\n      &:hover {\n        stroke-width: 2;\n        stroke: #008200;\n        cursor: pointer;\n      }\n    "})),ze=M.default.rect(ye||(ye=Object(l.a)(["\n  stroke-width: 0;\n  ","\n"])),(function(e){return ke[e.status]?"fill: ".concat(ke[e.status].color,";"):"fill: transparent;"})),Ue=function(e){var t=e.x,n=e.y,c=e.parentX,o=e.parentY,i=e.text,a="M ".concat(c," ").concat(o,", L ").concat(t," ").concat(n);return Object(P.jsxs)("g",{children:[Object(P.jsx)("path",{d:a,strokeWidth:"2",fill:"transparent",stroke:"rgba(0, 0, 0, 0.4)"}),Object(P.jsx)("circle",{cx:t,cy:n,r:"16",fill:"#ffffff",stroke:"#8099a4",strokeWidth:"1"}),Object(P.jsx)("text",{x:t,y:n,textAnchor:"middle",dominantBaseline:"central",children:i})]})};var We,Fe=function(e){var t=e.selected,n=e.itemDetails,c=e.position,o=void 0===c?{x:0,y:0}:c,i=e.rel,a=e.descendants,r=e.ancesstors,l=e.col,s=Object(j.c)(Ie),d="",u="";return"ancesstor"===i&&(d=a-1>0?"+".concat(a-1):"",u=r),"descendant"===i&&(d=a,u=r-1>0?"+".concat(r-1):""),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("g",{onClick:t,children:[Object(P.jsx)(Re,{root:"root"===i,x:o.x.toString(),y:o.y.toString(),height:"80",width:"300"}),Object(P.jsx)(ze,{status:null===n||void 0===n?void 0:n.status,x:o.x.toString(),y:o.y.toString(),height:"80",width:"8"}),Object(P.jsx)(Le,{x:(o.x+24).toString(),y:(o.y+30).toString(),children:null===n||void 0===n?void 0:n.title}),Object(P.jsx)(Me,{x:(o.x+24).toString(),y:(o.y+60).toString(),children:l})]}),s&&Object(P.jsxs)(P.Fragment,{children:[d>0&&Object(P.jsx)(Ue,{x:(o.x+240).toString(),y:(o.y+80+40).toString(),parentX:o.x+240,parentY:o.y+80,text:d}),u>0&&Object(P.jsx)(Ue,{x:(o.x+240).toString(),y:(o.y-40).toString(),parentX:o.x+240,parentY:o.y,text:u})]})]})},Te=M.default.g(We||(We=Object(l.a)(["\n  pointer-events: none;\n"])));var Pe=function(e){var t=e.activePosition,n=void 0===t?{x:0,y:0}:t,c=e.position,i=void 0===c?{x:0,y:0}:c,a=e.rel,r=Object(o.useMemo)((function(){if(n.y>i.y){var e=i.x+150,t=i.y+80,c=n.x+150,o=n.y;return[" M ".concat(e," ").concat(t,",\n            C ").concat(e," ").concat(t+100,",\n            ").concat(c," ").concat(o-100,",\n            ").concat(c," ").concat(o-10,"\n            L ").concat(c," ").concat(o),"".concat(c,",").concat(o," ").concat(c-5,",").concat(o-10," ").concat(c+5,",").concat(o-10)]}if(n.y<i.y){var r=n.x+150,l=n.y+80,s=i.x+150,d=i.y;return[" M ".concat(r," ").concat(l,",\n              C ").concat(r," ").concat(l+100,",\n              ").concat(s," ").concat(d-100,",\n              ").concat(s," ").concat(d-10,"\n              L ").concat(s," ").concat(d),"".concat(s,",").concat(d," ").concat(s-5,",").concat(d-10," ").concat(s+5,",").concat(d-10)]}if("ancesstor"===a){var u=i.x+150,j=i.y,b=n.x+150,f=n.y;return[" M ".concat(u," ").concat(j,",\n              C ").concat(u," ").concat(j-80,",\n              ").concat(b," ").concat(f-80,",\n              ").concat(b," ").concat(f-10,"\n              L ").concat(b," ").concat(f),"".concat(b,",").concat(f," ").concat(b-5,",").concat(f-10," ").concat(b+5,",").concat(f-10)]}var O=n.x+150,m=n.y+80,p=i.x+150,h=i.y+80;return[" M ".concat(O," ").concat(m,",\n              C ").concat(O," ").concat(m+80,",\n              ").concat(p," ").concat(h+80,",\n              ").concat(p," ").concat(h+10,"\n              L ").concat(p," ").concat(h),"".concat(p,",").concat(h," ").concat(p-5,",").concat(h+10," ").concat(p+5,",").concat(h+10)]}),[i,n,a]),l=Object(V.a)(r,2),s=l[0],d=l[1];return Object(P.jsxs)(Te,{children:[Object(P.jsx)("path",{d:s,strokeWidth:"2",fill:"transparent",stroke:"rgba(0, 0, 0, 0.4)"}),Object(P.jsx)("polygon",{points:d,fill:"black"})]})};var Ne,Be,Ve=function(){var e=Object(o.useContext)(je),t=e.nodes,n=e.active,c=Object(j.c)(ce),i=Object(d.f)(),a=Object(o.useMemo)((function(){return t[n].position}),[t,n]),r=Object(o.useCallback)((function(e){i.push("/tree/".concat(e))}),[i]);return Object(P.jsx)(P.Fragment,{children:t&&Object(P.jsxs)(P.Fragment,{children:[t.map((function(e,t){return"root"===e.rel?null:Object(P.jsx)(Pe,{rel:e.rel,position:e.position,activePosition:a},t)})),t.map((function(e,t){return Object(P.jsx)(Fe,Object(p.a)({selected:function(){r(e.id)},itemDetails:c[e.id]},e),t)}))]})})},Xe=M.default.div(Ne||(Ne=Object(l.a)(["\n  width: calc(100vw - 320px);\n  height: 100vh;\n  position: relative;\n"]))),Ye=M.default.svg(Be||(Be=Object(l.a)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n"])));var qe=function(){var e=fe(),t=Object(o.useState)({height:300,width:600,viewbox:"0 0 600 300"}),n=Object(V.a)(t,2),c=n[0],i=n[1];return Object(o.useEffect)((function(){var t=e.width,n=e.height;i({width:t-320,height:n,viewbox:"0 0 ".concat(t-320," ").concat(n)})}),[e,i]),Object(P.jsx)(Xe,{children:Object(P.jsxs)(be,{children:[Object(P.jsx)(Ye,Object(p.a)(Object(p.a)({preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg"},c),{},{children:Object(P.jsx)(pe,{children:Object(P.jsx)(Ve,{})})})),Object(P.jsx)(we,{})]})})},Ze=Object(o.createContext)(),_e=function(e){var t=e.children,n=Object(o.useState)(!1),c=Object(V.a)(n,2),i=c[0],a=c[1],r=Object(o.useCallback)((function(){a(!0)}),[a]),l=Object(o.useCallback)((function(){a(!1)}),[a]);return Object(P.jsx)(Ze.Provider,{value:{linking:i,drag:r,drop:l},children:t})},He=Object(o.createContext)({});function Qe(e,t){var n=t.type,c=t.payload;switch(n){case"ADD":var o=c.id,i=c.ref;return Object(p.a)(Object(p.a)({},e),{},Object(X.a)({},o,i));case"REMOVE":var a=c.id,r=Object(p.a)({},e);return delete r[a],r;default:return e}}var Ge,Je,Ke=function(e){var t=e.children,n=Object(o.useReducer)(Qe,{}),c=Object(V.a)(n,2),i=c[0],a=c[1],r=Object(o.useCallback)((function(e,t){a({type:"ADD",payload:{id:e,ref:t}})}),[a]),l=Object(o.useCallback)((function(e){a({type:"REMOVE",payload:{id:e}})}),[a]);return Object(P.jsx)(He.Provider,{value:{refs:i,addRef:r,removeRef:l},children:t})},$e=Object(h.b)({name:"connections",initialState:{scrollLeft:0},reducers:{updateScrollLeft:function(e,t){var n=t.payload.value;e.scrollLeft=n}}}),et=$e.actions.updateScrollLeft,tt=function(e){var t;return null===e||void 0===e||null===(t=e.connections)||void 0===t?void 0:t.scrollLeft},nt=$e.reducer,ct=Object(h.b)({name:"linking",initialState:{source:!1},reducers:{startLinking:function(e,t){e.source=t.payload.id},doneLinking:function(e){e.source=!1}}}),ot=ct.actions,it=ot.startLinking,at=ot.doneLinking,rt=function(e){var t;return null===e||void 0===e||null===(t=e.linking)||void 0===t?void 0:t.source},lt=function(e){var t;return!!(null===e||void 0===e||null===(t=e.linking)||void 0===t?void 0:t.source)},st=ct.reducer,dt=M.default.div(Ge||(Ge=Object(l.a)(["\n  pointer-events: none;\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  top: 0;\n"]))),ut=M.default.svg(Je||(Je=Object(l.a)(["\n  width: 100%;\n  height: 100%;\n  display: block;\n"])));var jt,bt,ft=function(){var e=Object(j.c)(ie),t=Object(j.c)(tt),n=Object(j.c)(Ae),c=Object(j.c)(rt),i=Object(o.useContext)(He),a=Object(o.useState)({width:100,height:100,viewBox:"0 0 100 100"}),r=Object(V.a)(a,2),l=r[0],s=r[1],d=fe(),u=Object(o.useRef)(null),b=Object(o.useMemo)((function(){var t,o,a=document.documentElement.scrollTop;if(!e)return null;var r=n?function(){return!0}:function(e){var t=e.from,n=e.to;return t===c||n===c};return null===e||void 0===e||null===(t=e.filter(r))||void 0===t||null===(o=t.map((function(e){var t=e.from,n=e.to;try{var c=i.refs[t],o=i.refs[n],r=c.getBoundingClientRect(),l=r.right-320,s=r.top+a+r.height/2,d=o.getBoundingClientRect(),u=d.right-320,j=d.top+a+d.height/2;return l===u||Math.abs(l-u)<1?(j+=(s>j?1:-1)*d.height/4,{line:"M ".concat(l," ").concat(s," \n          C ").concat(l+40," ").concat(s,", \n            ").concat(u+40," ").concat(j,", \n            ").concat(u," ").concat(j),start:{x:l,y:s}}):(u=d.left-320,{line:"M ".concat(l," ").concat(s," \n            C ").concat(l+40," ").concat(s,", \n              ").concat(u-40," ").concat(j,", \n              ").concat(u," ").concat(j),start:{x:l,y:s}})}catch(b){console.log(b)}return null})))||void 0===o?void 0:o.filter((function(e){return!!e})).map((function(e,t){var n=e.start,c=e.line;return Object(P.jsxs)("g",{children:[Object(P.jsx)("path",{d:c,strokeWidth:"2",fill:"transparent",stroke:"rgba(0, 0, 0, 0.4)"}),Object(P.jsx)("circle",{cx:n.x,cy:n.y,r:"4",fill:"rgb(0, 0, 0)"})]},t)}))}),[d,t,e,i,c,n]);return Object(o.useEffect)((function(){d&&(null===u||void 0===u?void 0:u.current)&&s({height:d.height,width:d.width,viewBox:"0 0 ".concat(d.height," ").concat(d.width)})}),[d,u,s]),Object(P.jsx)(dt,{ref:u,children:Object(P.jsx)(ut,{preserveAspectRatio:"none",xmlns:"http://www.w3.org/2000/svg",height:l.height,width:l.width,viewbox:l.viewBox,children:b})})},Ot=n(91),mt=n.n(Ot),pt=n(32),ht=n.n(pt),vt=n(202),xt=n.n(vt),gt=n(118),yt=n.n(gt),wt=n(289),kt=n.n(wt),Ct=n(207),St=M.default.div(jt||(jt=Object(l.a)(["\n  display: flex;\n  justify-content: flex-end;\n  gap: 1rem;\n"]))),Et=M.default.span(bt||(bt=Object(l.a)(["\n  display: inline-block;\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n  margin: 0 0.5rem;\n  vertical-align: middle;\n  ","\n"])),(function(e){return e.color&&"background: ".concat(e.color,";")})),It=function(e,t){switch(t.type){case"SET":return t.payload;case"UPDATE":var n=t.payload,c=n.key,o=n.val;return Object(p.a)(Object(p.a)({},e),{},Object(X.a)({},c,o));default:return e}};var At,Dt,Lt,Mt,Rt,zt=function(e){var t=e.itemId,n=e.item,c=e.doneEditing,i=Object(j.b)(),a=Object(o.useState)(!1),r=Object(V.a)(a,2),l=r[0],s=r[1],d=Object(o.useReducer)(It,{title:"",status:"",description:""}),u=Object(V.a)(d,2),b=u[0],f=u[1],O=Object(o.useCallback)((function(){i({type:G.type,payload:{id:t,update:b}}),c()}),[t,i,b,c]);return Object(o.useEffect)((function(){f({type:"SET",payload:n})}),[n]),Object(P.jsxs)("form",{onSubmit:function(e){e.preventDefault()},children:[Object(P.jsx)(m.a,{children:Object(P.jsx)(yt.a,{labelInline:!0,label:"Name",size:"small",value:b.title,onChange:function(e){console.log("here!"),f({type:"UPDATE",payload:{key:"title",val:e.target.value}})},required:!0})}),Object(P.jsx)(m.a,{children:Object(P.jsx)(Ct.Select,{labelInline:!0,name:"simple",size:"small",label:"Status",value:b.status,onChange:function(e){f({type:"UPDATE",payload:{key:"status",val:e.target.value}})},children:Object.keys(ke).map((function(e){return Object(P.jsxs)(Ct.Option,{value:e,children:[Object(P.jsx)(Et,{color:ke[e].color}),ke[e].text]},e)}))})}),Object(P.jsx)(m.a,{children:Object(P.jsx)(yt.a,{labelInline:!0,label:"Description",value:b.description,size:"small",onChange:function(e){f({type:"UPDATE",payload:{key:"description",val:e.target.value}})}})}),Object(P.jsxs)(St,{children:[Object(P.jsx)(T.a,{size:"small",onClick:s,children:"Delete"}),Object(P.jsx)(T.a,{buttonType:"primary",size:"small",onClick:O,type:"submit",children:"Done"})]}),Object(P.jsx)(kt.a,{title:"Delete item",open:l,onConfirm:function(){s(!1),requestAnimationFrame((function(){i({type:Q.type,payload:{id:t}})}))},onCancel:function(){return s(!1)},children:"Are you sure?"})]})},Ut=n(203),Wt=n.n(Ut),Ft=n(92),Tt=n.n(Ft),Pt=M.default.div(At||(At=Object(l.a)(["\n  display: none;\n  position: absolute;\n  right: 0;\n  bottom: 0;\n"]))),Nt=M.default.div(Dt||(Dt=Object(l.a)(["\n  margin-bottom: 0.7rem;\n  display: flex;\n  gap: 0.5rem;\n"]))),Bt=M.default.div(Lt||(Lt=Object(l.a)(['\n  font-size: 16px;\n  background: rgba(0, 0, 0, 0.1);\n  padding: 1rem;\n  position: relative;\n  &::before {\n    content: "";\n    display: block;\n    position: absolute;\n    left: 0;\n    bottom: 100%;\n    border-right: 0.6rem solid transparent;\n    border-bottom: 0.6rem solid rgba(0, 0, 0, 0.1);\n  }\n']))),Vt=M.default.div(Mt||(Mt=Object(l.a)(["\n  font-weight: 600;\n"]))),Xt=M.default.div(Rt||(Rt=Object(l.a)(["\n  margin-bottom: 1rem;\n  width: 66%;\n  ","\n  .date {\n    opacity: 0;\n  }\n  &:hover {\n    .date {\n      opacity: 1;\n    }\n  }\n  ","\n  &:focus-within "," {\n    display: block;\n  }\n"])),(function(e){return"right"===e.align&&"margin-left: auto;"}),(function(e){return"right"===e.align&&"".concat(Nt," {\n      flex-direction: row-reverse;\n    }\n    ").concat(Bt,"::before {\n      right: 0;\n      left: auto;\n      border-left: 0.6rem solid transparent;\n      border-right: none;\n    }\n    ")}),Pt);var Yt,qt,Zt=function(e){var t=e.comment,n=e.deleteComment,c=Object(j.c)(C),i=Object(o.useMemo)((function(){var e;return(null===t||void 0===t||null===(e=t.datetime)||void 0===e?void 0:e.seconds)?new Date(1e3*t.datetime.seconds).toLocaleString({weekday:"long",year:"numeric",month:"long"}):null}),[t.datetime]),a=(null===c||void 0===c?void 0:c.email)===t.author;return Object(P.jsxs)(Xt,{align:a?"right":"left",children:[Object(P.jsxs)(Nt,{children:[Object(P.jsx)(Vt,{children:a?"You":t.author}),i&&Object(P.jsx)("div",{className:"date",children:i})]}),Object(P.jsxs)(Bt,{tabIndex:"0",children:[null===t||void 0===t?void 0:t.content,a&&Object(P.jsx)(Pt,{children:Object(P.jsx)(T.a,{size:"small",buttonType:"tertiary",onClick:n,type:"button",destructive:!0,children:"Delete?"})})]})]})},_t=M.default.div(Yt||(Yt=Object(l.a)(["\n  min-height: 100px;\n  max-height: 400px;\n  overflow-y: auto;\n  border: 1px solid;\n  display: flex;\n  flex-direction: column;\n  padding: .5rem 2rem;\n"]))),Ht=M.default.div(qt||(qt=Object(l.a)(["\n  margin: auto;\n"])));var Qt,Gt,Jt=function(e){var t=e.comments,n=void 0===t?[]:t,c=e.deleteComment;return Object(P.jsxs)(_t,{children:[0===n.length&&Object(P.jsx)(Ht,{children:"No comments"}),n.map((function(e){return Object(P.jsx)(Zt,{comment:e,deleteComment:function(){return c(e.key)}},e.key)}))]})},Kt=n(290),$t=n.n(Kt),en=M.default.div(Qt||(Qt=Object(l.a)(["\n  margin-top: 1rem;\n  display: flex;\n  justify-content: flex-start;\n  flex-direction: row-reverse;\n"]))),tn=M.default.form(Gt||(Gt=Object(l.a)(["\n  display: block;\n  margin-top: 2rem;\n"])));var nn=function(e){var t=e.onSubmit,n=e.onCancel,c=Object(o.useState)(""),i=Object(V.a)(c,2),a=i[0],r=i[1];return Object(P.jsxs)(tn,{onSubmit:function(e){e.preventDefault(),t(a.trim()),r("")},children:[Object(P.jsx)($t.a,{label:"Add a comment",required:!0,rows:2,value:a,onChange:function(e){return r(e.target.value)}}),Object(P.jsxs)(en,{children:[Object(P.jsx)(T.a,{buttonType:"primary",ml:2,type:"submit",children:"Send"}),Object(P.jsx)(T.a,{buttonType:"secondary",type:"reset",onClick:n,children:"Cancel"})]})]})};var cn,on,an,rn,ln=function(e){var t=e.itemId,n=e.close,c=Object(de.b)(),i=Object(o.useMemo)((function(){return c.collection("items").doc(t)}),[t,c]),a=Object(o.useMemo)((function(){return i.collection("messages")}),[i]),r=Object(j.c)(C),l=Object(de.c)(a,{idField:"key"}),s=Object(o.useMemo)((function(){return((null===l||void 0===l?void 0:l.data)||[]).sort((function(e,t){try{var n=1e3*e.datetime.seconds+e.datetime.milliseconds,c=1e3*t.datetime.seconds+t.datetime.milliseconds;if(n<c)return-1;if(n>c)return 1}catch(o){}return 0}))}),[l]),d=Object(o.useCallback)((function(e){var t=Date.now();i.update({messageCount:l.data.length+1}),a.add({author:r.email,content:e,datetime:{seconds:Math.floor(t/1e3),milliseconds:t%1e3}})}),[r,i,a,l]),u=Object(o.useCallback)((function(e){console.log(e),a.doc(e).delete()}),[a]);return Object(o.useEffect)((function(){console.log({itemId:t,comments:s})}),[s,t]),Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(Wt.a,{open:!0,onCancel:function(){return n()},title:"Comments",size:"medium",children:"loading"===l.status?Object(P.jsx)("div",{children:Object(P.jsx)(Tt.a,{size:"large"})}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(Jt,{comments:s,deleteComment:function(e){return u(e)}}),Object(P.jsx)(nn,{onSubmit:function(e){console.log({message:e}),d(e)},onCancel:n})]})})})},sn=M.default.div(cn||(cn=Object(l.a)(["\n  position: absolute;\n  right: 0;\n  top: 0;\n"]))),dn=M.default.div(on||(on=Object(l.a)(["\n  position: relative;\n  margin-bottom: 1.5rem;\n  ","\n"])),(function(e){return e.linking?"\n      cursor:pointer;\n      &:hover {\n        border-color: red;\n      }":""})),un=M.default.div(an||(an=Object(l.a)(["\n  display: flex;\n  justify-content: flex-end;\n  gap: 0.5rem;\n"]))),jn=M.default.div(rn||(rn=Object(l.a)(["\n  position: relative;\n  padding-left: 1rem;\n"])));var bn,fn,On,mn,pn,hn,vn,xn=function(e){var t,n,c,i=e.itemId,a=Object(o.useRef)(null),r=Object(o.useState)(!1),l=Object(V.a)(r,2),s=l[0],u=l[1],b=Object(o.useState)(!1),f=Object(V.a)(b,2),O=f[0],p=f[1],h=Object(j.b)(),v=Object(d.f)(),x=Object(j.c)(ce),g=Object(j.c)(rt),y=Object(j.c)(lt),w=Object(j.c)(I),k=Object(j.c)(A),C=Object(o.useContext)(He),S=C.addRef,E=C.removeRef,D=Object(o.useMemo)((function(){return x[i]}),[x,i]),L=Object(o.useCallback)((function(e){e.preventDefault(),u(!0),requestAnimationFrame((function(){var e,t;null===(e=a.current)||void 0===e||null===(t=e.querySelector("input"))||void 0===t||t.focus()}))}),[u,a]),M=Object(o.useCallback)((function(){u(!1)}),[u]),R=Object(o.useCallback)((function(e){e.preventDefault(),v.push("/tree/".concat(i))}),[v,i]),U=Object(o.useCallback)((function(){y&&g!==i&&h({type:$.type,payload:{from:g,to:i}})}),[y,g,h,i]),F=Object(o.useCallback)((function(e){e.preventDefault(),h({type:it.type,payload:{id:i}})}),[h,i]);return Object(o.useEffect)((function(){return S(i,a.current),function(){E(i)}}),[S,E,a,i]),Object(o.useEffect)((function(){if(y===i){var e=function(e){"Escape"===e.key&&h({type:at.type})};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}}),[i,y,h]),Object(P.jsxs)(dn,{ref:a,onClick:U,linking:!!y,id:i,children:[Object(P.jsx)(z.a,{orientation:"vertical",pixelWidth:320,children:Object(P.jsx)(W.a,{children:s?Object(P.jsx)(zt,{itemId:i,item:D,doneEditing:M}):Object(P.jsxs)(jn,{children:[Object(P.jsx)("div",{style:{position:"absolute",right:"100%",top:"50%",transform:"translate(.5rem, -50%)",cursor:"pointer"},children:Object(P.jsx)(ht.a,{fontSize:"medium",type:"drag_vertical"})}),Object(P.jsx)(m.a,{variant:"h3",mb:1,children:null!==(t=D.title)&&void 0!==t?t:"\xa0"}),D.status&&Object(P.jsx)(xt.a,{mb:1,borderColor:null===(n=ke[D.status])||void 0===n?void 0:n.color,fill:!0,children:null===(c=ke[D.status])||void 0===c?void 0:c.text}),D.description&&Object(P.jsx)(m.a,{mb:2,children:D.description}),Object(P.jsx)(un,{children:g===i?Object(P.jsx)(T.a,{size:"small",variant:"primary",onClick:function(){return h({type:at.type})},children:"Done"}):Object(P.jsxs)(P.Fragment,{children:[!w&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(T.a,{size:"small",onClick:L,disabled:!!y,children:"Edit"}),Object(P.jsx)(T.a,{size:"small",onClick:F,disabled:!!y,children:"Link"})]}),Object(P.jsx)(T.a,{size:"small",onClick:R,disabled:!!y,children:"View"})]})}),k&&Object(P.jsx)(sn,{children:Object(P.jsx)(mt.a,{size:"small",onAction:function(){return p(!0)},children:Object(P.jsx)(ht.a,{type:"talk"})})})]})})}),O&&Object(P.jsx)(ln,{itemId:i,close:function(){p(!1)}})]})},gn=M.default.div(bn||(bn=Object(l.a)(["\n  display: flex;\n  padding: 0 2.5rem;\n  flex: 0 0 320px;\n  flex-direction: column;\n  border-right: 2px solid #8099a4;\n"]))),yn=M.default.div(fn||(fn=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1 1 100%;\n  align-items: center;\n  ","\n"])),(function(e){return e.justify&&"justify-content: ".concat(e.justify,";")})),wn=M.default.div(On||(On=Object(l.a)(["\n  position: sticky;\n  top: 0;\n  left: 0;\n  right: 0;\n  padding: 1.5rem 0;\n  display: flex;\n  gap: 1rem;\n"]))),kn=M.default.h2(mn||(mn=Object(l.a)(["\n  font-size: 18px;\n  font-weight: 600;\n  padding: 0.5rem;\n  border-bottom: 2px solid transparent;\n  margin: 0;\n"]))),Cn=M.default.input(pn||(pn=Object(l.a)(["\n  border: none;\n  background: none;\n  font-family: inherit;\n  font-size: 18px;\n  font-weight: 600;\n  padding: 0.5rem;\n  border-radius: 0;\n  width: 100%;\n  border-bottom: 2px solid transparent;\n  box-sizing: border-box;\n  &:focus {\n    outline: none;\n    border-bottom: 2px solid #0077c8;\n  }\n"]))),Sn=M.default.div(hn||(hn=Object(l.a)(["\n  flex: 1 0 auto;\n  position: relative;\n"]))),En=M.default.div(vn||(vn=Object(l.a)(["\n  position: absolute;\n  right: 0;\n  top: 0.5rem;\n  cursor: pointer;\n"])));var In,An,Dn=function(e){var t,n=e.justify,c=void 0===n?"flex-start":n,i=e.colId,a=Object(j.b)(),r=Object(j.c)(oe),l=Object(o.useMemo)((function(){return r[i]}),[i,r]),s=Object(j.c)(I),d=Object(o.useRef)(null);return Object(P.jsxs)(gn,{children:[Object(P.jsx)(wn,{children:s?Object(P.jsx)(kn,{children:null===l||void 0===l?void 0:l.title}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(Sn,{children:[Object(P.jsx)(Cn,{ref:d,value:null===l||void 0===l?void 0:l.title,type:"text",onChange:function(e){a({type:K.type,payload:{id:i,title:e.target.value}})}}),Object(P.jsx)(En,{onClick:function(){d.current.focus()},children:Object(P.jsx)(ht.a,{type:"edit"})})]}),Object(P.jsx)(mt.a,{type:"button",onAction:function(e){e.preventDefault(),a({type:H.type,payload:{column:i}})},children:Object(P.jsx)(ht.a,{bgTheme:"info",bgSize:"large",type:"plus"})})]})}),Object(P.jsx)(yn,{justify:c,children:null===l||void 0===l||null===(t=l.items)||void 0===t?void 0:t.map((function(e){return Object(P.jsx)(xn,{itemId:e},e)}))})]})},Ln=M.default.div(In||(In=Object(l.a)(["\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  position: relative;\n"]))),Mn=M.default.div(An||(An=Object(l.a)(["\n  width: 100%;\n  display: flex;\n  flex: 1 1 100%;\n  overflow-x: scroll;\n  scroll-behaviour: smooth;\n"]))),Rn=function(e){var t=e.children;return Object(P.jsx)(_e,{children:Object(P.jsx)(Ke,{children:t})})};var zn,Un=function(){var e=Object(j.c)(oe),t=Object(j.b)(),n=Object(o.useRef)(null),c=Object(o.useCallback)((function(e){t({type:et.type,payload:{value:e.target.scrollLeft}})}),[t]);return Object(P.jsxs)(Rn,{children:[Object(P.jsx)(ft,{}),Object(P.jsx)(Ln,{children:Object(P.jsx)(Mn,{ref:n,onScroll:c,children:Object.keys(e).map((function(e){return Object(P.jsx)(Dn,{colId:e},e)}))})})]})},Wn=n(291),Fn=n.n(Wn),Tn=M.default.div(zn||(zn=Object(l.a)(["\n  margin: 2rem auto;\n  padding: 0 2rem;\n"])));var Pn,Nn,Bn,Vn=function(){var e=Object(j.b)(),t=Object(j.c)(C),n=Object(j.c)(D);return Object(P.jsx)(Tn,{children:n?Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(T.a,{mt:1,fullWidth:!0,buttonType:"primary",onClick:function(){console.log("Sign in!"),e({type:k.type,payload:!1})},children:"Click here to sign in"})}):Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(Fn.a,{size:"ML",email:t.email,src:t.photoURL,name:t.displayName}),Object(P.jsx)(T.a,{mt:2,size:"small",onClick:function(){u.a.auth().signOut().then((function(){e({type:w.type})}))},children:"Log out"})]})})},Xn=n(292),Yn=n.n(Xn),qn=M.default.div(Pn||(Pn=Object(l.a)(["\n  display: flex;\n  gap: 0.5rem;\n  justify-content: flex-end;\n"]))),Zn=M.default.ul(Nn||(Nn=Object(l.a)(["\n  max-height: 400px;\n  overflow-y: auto;\n  list-style: none;\n  padding: 0;\n"]))),_n=M.default.li(Bn||(Bn=Object(l.a)(["\n  padding: 0.5rem;\n  border: 1px solid #ccd6db;\n  margin-bottom: 1rem;\n"])));var Hn,Qn,Gn=function(e){var t=e.searchTerm,n=Object(d.f)(),c=Object(o.useCallback)((function(e){if(!t)return[];var n=ce(e);return n?Object.keys(n).map((function(e){return Object(p.a)(Object(p.a)({},n[e]),{},{id:e})})).filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())||e.description.toLowerCase().includes(t.toLowerCase())})):[]}),[t]),i=Object(j.c)((function(e){return c(e,t)}));return Object(P.jsx)("div",{children:Object(P.jsx)(Zn,{children:i.map((function(e){return Object(P.jsxs)(_n,{as:"li",listStyleType:"none",pl:0,children:[Object(P.jsx)(m.a,{fontWeight:"700",mb:2,children:e.title}),Object(P.jsx)(qn,{children:Object(P.jsx)(T.a,{size:"small",onClick:function(){n.push("/tree/".concat(e.id))},children:"View"})})]},e.id)}))})})},Jn=M.default.form(Hn||(Hn=Object(l.a)(["\n  margin: 2rem 0;\n  padding: 0 2rem;\n"]))),Kn=M.default.label(Qn||(Qn=Object(l.a)(["\n  display: block;\n  margin: 0 0 2rem;\n"])));var $n,ec=function(){var e=Object(o.useState)(""),t=Object(V.a)(e,2),n=t[0],c=t[1];return Object(P.jsxs)(Jn,{onSubmit:function(e){return e.preventDefault()},children:[Object(P.jsxs)(Kn,{children:[Object(P.jsx)(m.a,{as:"div",fontWeight:"700",mb:1,children:"Search"}),Object(P.jsx)(Yn.a,{id:"search",name:"search",placeholder:"",onChange:function(e){return c(e.target.value)},value:n,searchButton:!0})]}),Object(P.jsx)(Gn,{searchTerm:n})]})},tc=n(99),nc=n.n(tc),cc=M.default.div($n||($n=Object(l.a)(["\n  text-align: center;\n"])));var oc,ic=function(){var e=Object(j.c)(Ae),t=Object(j.b)();return Object(P.jsxs)(cc,{children:[Object(P.jsx)(m.a,{fontWeight:"600",mb:1,children:"Show all arrows:"}),Object(P.jsxs)("div",{children:[Object(P.jsx)(nc.a,{grouped:!0,name:"showOtherRels",onChange:function(){t({type:Ee.type,payload:{key:"showAllArrows",value:!0}})},checked:e,children:"Show"},"show"),Object(P.jsx)(nc.a,{grouped:!0,name:"showOtherRels",onChange:function(){t({type:Ee.type,payload:{key:"showAllArrows",value:!1}})},checked:!e,children:"Hide"},"hide")]})]})},ac=M.default.div(oc||(oc=Object(l.a)(["\n  text-align: center;\n"])));var rc=function(){var e=Object(j.c)(Ie),t=Object(j.b)();return Object(P.jsxs)(ac,{children:[Object(P.jsx)(m.a,{fontWeight:"600",mb:1,children:"Show other relations:"}),Object(P.jsxs)("div",{children:[Object(P.jsx)(nc.a,{grouped:!0,name:"showOtherRels",onChange:function(){t({type:Ee.type,payload:{key:"showOtherRelations",value:!0}})},checked:e,children:"Show"},"show"),Object(P.jsx)(nc.a,{grouped:!0,name:"showOtherRels",onChange:function(){t({type:Ee.type,payload:{key:"showOtherRelations",value:!1}})},checked:!e,children:"Hide"},"hide")]})]})};var lc,sc,dc,uc=function(){var e=Object(j.c)(E),t=Object(j.c)(le),n=Object(j.b)(),c=Object(o.useCallback)((function(e){e.preventDefault(),t||n({type:te.type})}),[n,t]);return e?Object(P.jsx)(T.a,{fullWidth:!0,buttonType:"primary",onClick:c,children:t?Object(P.jsx)(Tt.a,{isInsideButton:!0}):Object(P.jsx)(P.Fragment,{children:"Save"})}):null},jc=M.default.div(lc||(lc=Object(l.a)(["\n  width: 320px;\n  flex: 0 0 320px;\n  background: rgb(242, 245, 246);\n  position: relative;\n  z-index: 2;\n"]))),bc=M.default.div(sc||(sc=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 0 2rem;\n  gap: 1rem;\n"]))),fc=M.default.hr(dc||(dc=Object(l.a)(["\n  margin: 2rem 0;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n"])));var Oc,mc,pc=function(){var e=Object(d.f)(),t=Object(j.b)(),n=Object(j.c)(I);return Object(P.jsxs)(jc,{children:[Object(P.jsx)(m.a,{ml:4,mt:3,variant:"h1",children:"Dependancy Graph"}),Object(P.jsx)(Vn,{}),Object(P.jsx)(fc,{}),Object(P.jsx)(ec,{}),Object(P.jsx)(fc,{}),Object(P.jsxs)(bc,{children:[Object(P.jsxs)(d.a,{path:"/tree/",children:[Object(P.jsx)(rc,{}),Object(P.jsx)(T.a,{fullWidth:!0,onClick:function(){return e.push("/")},children:"Columns View"}),Object(P.jsx)(T.a,{fullWidth:!0,onClick:function(){return e.goBack()},children:"Back"})]}),Object(P.jsxs)(d.a,{exact:!0,path:"/",children:[Object(P.jsx)(ic,{}),!n&&Object(P.jsx)(T.a,{onClick:function(){t({type:J.toString()})},fullWidth:!0,iconType:"plus",children:"Add New Column"})]}),Object(P.jsx)(uc,{})]})]})},hc=M.default.div(Oc||(Oc=Object(l.a)(["\n  display: flex;\n  min-height: 100vh;\n  width: 100%;\n  max-width: 100vw;\n  align-items: stretch;\n"]))),vc=M.default.div(mc||(mc=Object(l.a)(["\n  flex: 0 1 calc(100% - 320px);\n  max-width: calc(100% - 320px);\n  position: relative;\n  z-index: 1;\n"])));var xc=function(){return Object(P.jsx)(hc,{children:Object(P.jsxs)(B,{children:[Object(P.jsx)(ue,{}),Object(P.jsxs)(s.a,{children:[Object(P.jsx)(pc,{}),Object(P.jsx)(vc,{children:Object(P.jsxs)(d.c,{children:[Object(P.jsx)(d.a,{path:"/tree/:itemId",component:qe}),Object(P.jsx)(d.a,{path:"/",component:Un})]})})]})]})})},gc=Object(h.a)({reducer:{linking:st,dependancies:se,connections:nt,options:De,user:L}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var yc=n(293),wc=n.n(yc),kc=(n(471),{apiKey:"AIzaSyAESY7RU998b2rdyyWMhCkt4mfQXfEdpyM",authDomain:"dependancy-graph.firebaseapp.com",projectId:"dependancy-graph",storageBucket:"dependancy-graph.appspot.com",messagingSenderId:"257602314188",appId:"1:257602314188:web:b6daa829c5e07f23648769"});r.a.render(Object(P.jsxs)(i.a.StrictMode,{children:[Object(P.jsx)(wc.a,{}),Object(P.jsx)(de.a,{firebaseConfig:kc,children:Object(P.jsx)(j.a,{store:gc,children:Object(P.jsx)(xc,{})})})]}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[472,7,9]]]);
//# sourceMappingURL=main.61248767.chunk.js.map